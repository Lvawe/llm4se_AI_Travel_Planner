# AI Travel Planner é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: AI æ—…è¡Œè§„åˆ’å¸ˆ (AI Travel Planner)  
**GitHub ä»“åº“**: https://github.com/Lvawe/llm4se_AI_Travel_Planner  
**å¼€å‘æ—¶é—´**: 2025å¹´11æœˆ5æ—¥å¼€å§‹  
**å½“å‰ç‰ˆæœ¬**: v0.1.0 (åŸºç¡€æ¶æ„)

## é¡¹ç›®ç®€ä»‹

AI Travel Planner æ˜¯ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½çš„æ™ºèƒ½æ—…è¡Œè§„åˆ’ Web åº”ç”¨ï¼Œæ—¨åœ¨é€šè¿‡ AI æŠ€æœ¯ç®€åŒ–æ—…è¡Œè§„åˆ’è¿‡ç¨‹ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è¯­éŸ³æˆ–æ–‡å­—è¾“å…¥æ—…è¡Œéœ€æ±‚ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–çš„æ—…è¡Œè·¯çº¿ã€é¢„ç®—åˆ†æå’Œå®æ—¶å¯¼èˆªè¾…åŠ©ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### âœ… å·²å®ç°åŠŸèƒ½

1. **ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ**
   - ç”¨æˆ·æ³¨å†Œï¼ˆé‚®ç®± + å¯†ç ï¼‰
   - ç”¨æˆ·ç™»å½•ï¼ˆJWT è®¤è¯ï¼‰
   - å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆbcryptï¼‰
   - ä¼šè¯ç®¡ç†ï¼ˆToken è‡ªåŠ¨åˆ·æ–°ï¼‰

2. **åŸºç¡€æ¶æ„**
   - å‰ç«¯ï¼šNext.js 14 + TypeScript + Tailwind CSS
   - åç«¯ï¼šExpress + TypeScript + Prisma ORM
   - æ•°æ®åº“ï¼šPostgreSQL
   - å®¹å™¨åŒ–ï¼šDocker + Docker Compose
   - CI/CDï¼šGitHub Actions

3. **æ•°æ®æ¨¡å‹è®¾è®¡**
   - Userï¼ˆç”¨æˆ·è¡¨ï¼‰
   - Tripï¼ˆè¡Œç¨‹è¡¨ï¼‰
   - Expenseï¼ˆè´¹ç”¨è¡¨ï¼‰
   - ApiKeyï¼ˆAPIå¯†é’¥è¡¨ï¼‰

### ğŸš§ å¼€å‘ä¸­åŠŸèƒ½

1. **æ™ºèƒ½è¡Œç¨‹è§„åˆ’**
   - æ”¯æŒè¯­éŸ³è¾“å…¥æ—…è¡Œéœ€æ±‚
   - AI è‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–è·¯çº¿
   - åŒ…å«äº¤é€šã€ä½å®¿ã€æ™¯ç‚¹ã€é¤å…ç­‰ä¿¡æ¯
   - æ”¯æŒè¡Œç¨‹ç¼–è¾‘å’Œè°ƒæ•´

2. **è´¹ç”¨é¢„ç®—ä¸ç®¡ç†**
   - æ™ºèƒ½é¢„ç®—åˆ†æ
   - å®æ—¶è´¹ç”¨è¿½è¸ª
   - æ”¯æŒè¯­éŸ³è®°è´¦
   - è´¹ç”¨åˆ†ç±»ç»Ÿè®¡

3. **åœ°å›¾å¯¼èˆª**
   - å®æ—¶ä½ç½®å®šä½
   - æ™¯ç‚¹è·¯çº¿è§„åˆ’
   - é™„è¿‘æ¨èåŠŸèƒ½

4. **äº‘ç«¯åŒæ­¥**
   - å¤šè®¾å¤‡æ•°æ®åŒæ­¥
   - ç¦»çº¿ç¼“å­˜æ”¯æŒ

## æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Zustand
- **HTTP å®¢æˆ·ç«¯**: Axios
- **UI ç»„ä»¶**: Lucide React Icons
- **æ¶ˆæ¯æç¤º**: React Hot Toast

### åç«¯æŠ€æœ¯
- **æ¡†æ¶**: Express.js
- **è¯­è¨€**: TypeScript
- **ORM**: Prisma
- **æ•°æ®åº“**: PostgreSQL 15
- **è®¤è¯**: JWT (jsonwebtoken)
- **å¯†ç åŠ å¯†**: bcryptjs
- **æ•°æ®éªŒè¯**: Zod

### ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆè®¡åˆ’é›†æˆï¼‰
- **è¯­éŸ³è¯†åˆ«**: ç§‘å¤§è®¯é£è¯­éŸ³ API
- **AI è§„åˆ’**: é˜¿é‡Œäº‘ç™¾ç‚¼æˆ–å…¶ä»– LLM API
- **åœ°å›¾æœåŠ¡**: é«˜å¾·åœ°å›¾ API

### å¼€å‘å·¥å…·
- **å®¹å™¨åŒ–**: Docker & Docker Compose
- **CI/CD**: GitHub Actions
- **é•œåƒä»“åº“**: é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡
- **ç‰ˆæœ¬æ§åˆ¶**: Git & GitHub

## é¡¹ç›®ç»“æ„

```
llm4se_AI_Travel_Planner/
â”œâ”€â”€ frontend/                 # Next.js å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/             # é¡µé¢è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ components/      # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ lib/             # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ types/           # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/                 # Express åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/          # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ index.ts         # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â””â”€â”€ schema.prisma    # æ•°æ®åº“æ¨¡å‹
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ docker/                  # Docker é…ç½®
â”‚   â”œâ”€â”€ Dockerfile.frontend
â”‚   â””â”€â”€ Dockerfile.backend
â”‚
â”œâ”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ DEPLOYMENT.md        # éƒ¨ç½²æ–‡æ¡£
â”‚   â”œâ”€â”€ DEVELOPMENT.md       # å¼€å‘æŒ‡å—
â”‚   â””â”€â”€ PROGRESS.md          # è¿›åº¦è·Ÿè¸ª
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/           # CI/CD é…ç½®
â”‚
â”œâ”€â”€ docker-compose.yml       # Docker Compose é…ç½®
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ CHANGELOG.md            # æ›´æ–°æ—¥å¿—
â””â”€â”€ .env.example            # ç¯å¢ƒå˜é‡ç¤ºä¾‹
```

## å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨ Dockerï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/Lvawe/llm4se_AI_Travel_Planner.git
cd llm4se_AI_Travel_Planner

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env

# 3. å¯åŠ¨æœåŠ¡
docker-compose up -d

# 4. è®¿é—®åº”ç”¨
# å‰ç«¯: http://localhost:3000
# åç«¯: http://localhost:3001
```

### æœ¬åœ°å¼€å‘

è¯¦è§ [å¼€å‘æŒ‡å—](./docs/DEVELOPMENT.md)

## API æ¥å£

### è®¤è¯æ¥å£

#### POST /api/auth/register
ç”¨æˆ·æ³¨å†Œ

```json
{
  "email": "user@example.com",
  "password": "password123",
  "name": "å¼ ä¸‰"
}
```

#### POST /api/auth/login
ç”¨æˆ·ç™»å½•

```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

### è¡Œç¨‹æ¥å£ï¼ˆéœ€è¦è®¤è¯ï¼‰

- GET /api/trips - è·å–æ‰€æœ‰è¡Œç¨‹
- GET /api/trips/:id - è·å–å•ä¸ªè¡Œç¨‹
- POST /api/trips - åˆ›å»ºè¡Œç¨‹
- PUT /api/trips/:id - æ›´æ–°è¡Œç¨‹
- DELETE /api/trips/:id - åˆ é™¤è¡Œç¨‹

### è´¹ç”¨æ¥å£ï¼ˆéœ€è¦è®¤è¯ï¼‰

- GET /api/expenses - è·å–è´¹ç”¨è®°å½•
- POST /api/expenses - åˆ›å»ºè´¹ç”¨è®°å½•
- DELETE /api/expenses/:id - åˆ é™¤è´¹ç”¨è®°å½•

### API Key æ¥å£ï¼ˆéœ€è¦è®¤è¯ï¼‰

- GET /api/api-keys - è·å– API Keys
- POST /api/api-keys - ä¿å­˜/æ›´æ–° API Keys

## æ•°æ®åº“è®¾è®¡

### User è¡¨
```sql
id          String    @id @default(cuid())
email       String    @unique
password    String    -- åŠ å¯†å­˜å‚¨
name        String
createdAt   DateTime  @default(now())
updatedAt   DateTime  @updatedAt
```

### Trip è¡¨
```sql
id          String    @id @default(cuid())
userId      String    -- å¤–é”®
destination String
startDate   DateTime
endDate     DateTime
budget      Float
travelers   Int
preferences String[]  -- åå¥½æ•°ç»„
itinerary   Json?     -- è¯¦ç»†è¡Œç¨‹
status      String    -- çŠ¶æ€
createdAt   DateTime
updatedAt   DateTime
```

### Expense è¡¨
```sql
id          String    @id @default(cuid())
tripId      String    -- å¤–é”®
userId      String    -- å¤–é”®
category    String    -- åˆ†ç±»
amount      Float
currency    String
description String
date        DateTime
createdAt   DateTime
```

## éƒ¨ç½²æ–¹æ¡ˆ

### Docker é•œåƒ

é¡¹ç›®æ”¯æŒé€šè¿‡ Docker å¿«é€Ÿéƒ¨ç½²ï¼š

```bash
# æ‹‰å–é•œåƒ
docker pull registry.cn-hangzhou.aliyuncs.com/your-namespace/ai-travel-planner-backend:latest
docker pull registry.cn-hangzhou.aliyuncs.com/your-namespace/ai-travel-planner-frontend:latest

# è¿è¡Œ
docker-compose -f docker-compose.prod.yml up -d
```

### CI/CD æµç¨‹

é¡¹ç›®é…ç½®äº† GitHub Actionsï¼Œæ¯æ¬¡æ¨é€åˆ° main åˆ†æ”¯æ—¶ä¼šè‡ªåŠ¨ï¼š
1. æ„å»º Docker é•œåƒ
2. æ¨é€åˆ°é˜¿é‡Œäº‘é•œåƒä»“åº“
3. ç”Ÿæˆç‰ˆæœ¬æ ‡ç­¾

è¯¦è§ [éƒ¨ç½²æ–‡æ¡£](./docs/DEPLOYMENT.md)

## API Key é…ç½®è¯´æ˜

âš ï¸ **é‡è¦**: è¯·å‹¿å°† API Key å†™å…¥ä»£ç ä¸­ï¼

### é…ç½®æ–¹å¼

1. **ç¯å¢ƒå˜é‡æ–¹å¼**ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰
   ```bash
   # .env æ–‡ä»¶
   IFLYTEK_APP_ID=your-app-id
   IFLYTEK_API_KEY=your-api-key
   IFLYTEK_API_SECRET=your-api-secret
   LLM_API_KEY=your-llm-key
   AMAP_API_KEY=your-amap-key
   ```

2. **åº”ç”¨è®¾ç½®é¡µé¢**ï¼ˆç”¨æˆ·ä½¿ç”¨æ¨èï¼‰
   - ç”¨æˆ·ç™»å½•åè¿›å…¥è®¾ç½®é¡µé¢
   - è¾“å…¥å„é¡¹ API Key
   - æ•°æ®åŠ å¯†å­˜å‚¨åœ¨æ•°æ®åº“

### API Key è·å–

- **ç§‘å¤§è®¯é£**: https://console.xfyun.cn/
- **é˜¿é‡Œäº‘ç™¾ç‚¼**: https://bailian.console.aliyun.com/
- **é«˜å¾·åœ°å›¾**: https://console.amap.com/

## å¼€å‘è¿›åº¦

- [x] é¡¹ç›®åˆå§‹åŒ–
- [x] åŸºç¡€æ¶æ„æ­å»º
- [x] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [x] æ•°æ®åº“è®¾è®¡
- [x] Docker é…ç½®
- [x] CI/CD é…ç½®
- [ ] è¯­éŸ³è¯†åˆ«åŠŸèƒ½ï¼ˆ30%ï¼‰
- [ ] AI è¡Œç¨‹è§„åˆ’ï¼ˆ0%ï¼‰
- [ ] è´¹ç”¨ç®¡ç†ç•Œé¢ï¼ˆ0%ï¼‰
- [ ] åœ°å›¾å¯¼èˆªï¼ˆ0%ï¼‰

è¯¦è§ [è¿›åº¦è·Ÿè¸ª](./docs/PROGRESS.md)

## æ–‡æ¡£

- [README.md](./README.md) - é¡¹ç›®è¯´æ˜
- [DEVELOPMENT.md](./docs/DEVELOPMENT.md) - å¼€å‘æŒ‡å—
- [DEPLOYMENT.md](./docs/DEPLOYMENT.md) - éƒ¨ç½²æ–‡æ¡£
- [PROGRESS.md](./docs/PROGRESS.md) - è¿›åº¦è·Ÿè¸ª
- [CHANGELOG.md](./CHANGELOG.md) - æ›´æ–°æ—¥å¿—

## æ³¨æ„äº‹é¡¹

1. **å®‰å…¨æ€§**
   - æ‰€æœ‰å¯†ç ä½¿ç”¨ bcrypt åŠ å¯†
   - API ä½¿ç”¨ JWT è®¤è¯
   - æ•æ„Ÿä¿¡æ¯ä¸å­˜å‚¨åœ¨ä»£ç ä¸­
   - ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†é…ç½®

2. **API é™åˆ¶**
   - å®ç°è¯·æ±‚é¢‘ç‡é™åˆ¶
   - åˆç†ä½¿ç”¨ç¬¬ä¸‰æ–¹ API é…é¢
   - æ·»åŠ ç¼“å­˜ç­–ç•¥å‡å°‘è°ƒç”¨

3. **æ•°æ®å¤‡ä»½**
   - å®šæœŸå¤‡ä»½æ•°æ®åº“
   - ä½¿ç”¨ PostgreSQL çš„å¤‡ä»½å·¥å…·
   - æµ‹è¯•æ¢å¤æµç¨‹

## æäº¤è¦æ±‚

æŒ‰ç…§ä½œä¸šè¦æ±‚ï¼Œæœ¬é¡¹ç›®æä¾›ï¼š

1. âœ… GitHub ä»“åº“åœ°å€
2. âœ… è¯¦ç»†çš„ README æ–‡æ¡£
3. âœ… Docker é•œåƒå’Œè¿è¡Œè¯´æ˜
4. âœ… å®Œæ•´çš„ Git æäº¤è®°å½•
5. âš ï¸ API Key é…ç½®è¯´æ˜ï¼ˆè¯·åœ¨ README ä¸­é…ç½®ï¼‰

**æ³¨æ„**: å¦‚æœä½¿ç”¨éé˜¿é‡Œäº‘ APIï¼Œè¯·åœ¨ README ä¸­æä¾›æœ‰æ•ˆæœŸ 3 ä¸ªæœˆçš„ API Keyã€‚

## è”ç³»æ–¹å¼

- **GitHub**: [@Lvawe](https://github.com/Lvawe)
- **ä»“åº“**: https://github.com/Lvawe/llm4se_AI_Travel_Planner
- **Issues**: https://github.com/Lvawe/llm4se_AI_Travel_Planner/issues

## è®¸å¯è¯

MIT License

---

**æœ€åæ›´æ–°**: 2025å¹´11æœˆ5æ—¥
