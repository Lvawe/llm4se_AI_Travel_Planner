# ================================================
# AI Travel Planner - 环境变量配置示例
# ================================================
# 
# 使用说明:
# 1. 复制此文件为 .env
#    macOS/Linux: cp env.example .env
#    Windows: copy env.example .env
# 2. 填写实际的配置值
# 3. 不要将 .env 文件提交到 Git
#

# -------------------- 数据库配置 --------------------
# Supabase PostgreSQL 连接字符串
# 
# ⚠️ 重要: Docker 环境变量文件中不要使用引号！
# 
# 如果使用 Docker 部署:
# Docker 容器无法直接连接 IPv6 Supabase，需要通过代理
# 
# 步骤:
# 1. 在宿主机启动代理:
#    socat TCP-LISTEN:25432,fork,reuseaddr TCP:db.YOUR_PROJECT.supabase.co:5432 &
# 
# 2. 使用代理地址（注意：不要加引号）:
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@host.docker.internal:25432/postgres
#
# 如果不使用 Docker，可以直接连接:
# DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@db.YOUR_PROJECT.supabase.co:5432/postgres

# -------------------- JWT 配置 --------------------
# JWT 密钥（生产环境请使用强随机字符串）
# 生成方式: openssl rand -base64 32
# 注意：不要加引号
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-123456
JWT_EXPIRES_IN=7d
# -------------------- 服务端口 --------------------
BACKEND_PORT=3001

# -------------------- AI 大模型配置 --------------------
# 阿里云百炼 DashScope API Key
# 获取方式: https://dashscope.console.aliyun.com/apiKey
DASHSCOPE_API_KEY=sk-YOUR_DASHSCOPE_API_KEY
LLM_MODEL=qwen-turbo

# -------------------- 高德地图配置 --------------------
# 高德地图 Web 服务 API Key
# 获取方式: https://console.amap.com/dev/key/app
# 注意: 必须以 NEXT_PUBLIC_ 开头才能在浏览器中使用
NEXT_PUBLIC_AMAP_KEY=YOUR_AMAP_API_KEY

# -------------------- API 地址配置 --------------------
# 前端访问后端 API 的地址
# 开发环境: http://localhost:3001
# 生产环境: https://your-domain.com/api
NEXT_PUBLIC_API_URL=http://localhost:3001

# ================================================
# 配置检查清单
# ================================================
#
# ✅ DATABASE_URL - 已配置数据库连接
# ✅ JWT_SECRET - 已设置 JWT 密钥（生产环境请改为强密码）
# ✅ DASHSCOPE_API_KEY - 已配置阿里云 API Key
# ✅ NEXT_PUBLIC_AMAP_KEY - 已配置高德地图 API Key
# ✅ NEXT_PUBLIC_API_URL - 已设置后端 API 地址
#
# ================================================
# Docker 部署特别说明
# ================================================
#
# 1. 启动 socat 代理 (如果使用 Supabase IPv6):
#    socat TCP-LISTEN:25432,fork,reuseaddr TCP:db.YOUR_PROJECT.supabase.co:5432 &
#
# 2. 确保 DATABASE_URL 使用 host.docker.internal:25432
#
# 3. 运行容器时使用 --env-file 参数:
#    docker run --env-file .env ...
#
# 4. 或使用 docker-compose，它会自动读取 .env 文件
#
# ================================================
# 安全提醒
# ================================================
#
# ⚠️  不要将包含真实密钥的 .env 文件提交到 Git
# ⚠️  生产环境务必修改 JWT_SECRET 为复杂密码
# ⚠️  定期轮换 API Keys
# ⚠️  使用环境变量或密钥管理服务存储敏感信息
#
