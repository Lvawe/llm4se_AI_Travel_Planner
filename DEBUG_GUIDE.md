# ğŸ” è°ƒè¯•æŒ‡å—

## é—®é¢˜è¯Šæ–­æ­¥éª¤

### 1. æ£€æŸ¥åœ°å›¾æ˜¯å¦æ­£ç¡®å®šä½

æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å° (F12)ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```javascript
// æ£€æŸ¥é«˜å¾·åœ°å›¾APIæ˜¯å¦åŠ è½½
console.log('é«˜å¾·åœ°å›¾API:', window.AMap ? 'âœ… å·²åŠ è½½' : 'âŒ æœªåŠ è½½')

// æ£€æŸ¥é«˜å¾·åœ°å›¾Keyé…ç½®
console.log('åœ°å›¾Key:', process.env.NEXT_PUBLIC_AMAP_KEY)
```

**é¢„æœŸè¾“å‡º**ï¼š
- é«˜å¾·åœ°å›¾API: âœ… å·²åŠ è½½
- åœ°å›¾Key: your-actual-key

### 2. æ£€æŸ¥AIè®¡åˆ’æ˜¯å¦ä¿å­˜

åœ¨è¡Œç¨‹è¯¦æƒ…é¡µï¼Œæ‰“å¼€æ§åˆ¶å°æ‰§è¡Œï¼š

```javascript
// è·å–å½“å‰è¡Œç¨‹ID
const tripId = window.location.pathname.split('/').pop()
const token = localStorage.getItem('token')

// è·å–è¡Œç¨‹æ•°æ®
fetch(`http://localhost:3001/api/trips/${tripId}`, {
  headers: { 'Authorization': `Bearer ${token}` }
})
  .then(res => res.json())
  .then(data => {
    console.log('ğŸ“Š è¡Œç¨‹æ•°æ®:')
    console.log('ç›®çš„åœ°:', data.destination)
    console.log('AIè®¡åˆ’:', data.itinerary)
    
    if (data.itinerary) {
      console.log('âœ… AIè®¡åˆ’å·²ä¿å­˜')
      console.log('- è¡Œç¨‹å¤©æ•°:', data.itinerary.itinerary?.length || 0)
      console.log('- é¢„ç®—é¡¹:', Object.keys(data.itinerary.budgetBreakdown || {}).length)
      console.log('- å»ºè®®æ•°:', data.itinerary.tips?.length || 0)
    } else {
      console.log('âŒ AIè®¡åˆ’æœªä¿å­˜')
    }
  })
```

### 3. æµ‹è¯•å®Œæ•´åˆ›å»ºæµç¨‹

#### æ­¥éª¤ 1: è®¿é—®åˆ›å»ºé¡µé¢
```
http://localhost:5090/trips/new
```

#### æ­¥éª¤ 2: å¡«å†™ä¿¡æ¯
- ç›®çš„åœ°ï¼šæˆéƒ½
- å¼€å§‹æ—¥æœŸï¼š2025-11-10
- ç»“æŸæ—¥æœŸï¼š2025-11-14
- é¢„ç®—ï¼š5000
- äººæ•°ï¼š2äºº
- åå¥½ï¼šé€‰æ‹©ã€Œç¾é£Ÿã€å’Œã€Œå†å²æ–‡åŒ–ã€

#### æ­¥éª¤ 3: è¯­éŸ³æè¿°ï¼ˆå¯é€‰ï¼‰
ç‚¹å‡»éº¦å…‹é£å›¾æ ‡ï¼Œè¯´ï¼š
> "æˆ‘æƒ³å»æˆéƒ½ï¼Œ5å¤©4æ™šï¼Œé¢„ç®—5000å…ƒï¼Œå–œæ¬¢åƒç¾é£Ÿï¼Œæƒ³çœ‹ç†ŠçŒ«ï¼Œ2ä¸ªäºº"

#### æ­¥éª¤ 4: ç‚¹å‡»æ™ºèƒ½åˆ›å»º
ç‚¹å‡» "ğŸš€ æ™ºèƒ½åˆ›å»ºè¡Œç¨‹" æŒ‰é’®

#### æ­¥éª¤ 5: æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—
åº”è¯¥çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—ï¼š
```
ğŸ” å¼€å§‹åœ°ç†ç¼–ç : æˆéƒ½
ğŸ“ åœ°ç†ç¼–ç ç»“æœ: ...
âœ… åœ°å€è§£ææˆåŠŸ: ...
âœ… åœ°å›¾æ ‡è®°æ·»åŠ æˆåŠŸ
```

### 4. éªŒè¯åœ°å›¾å®šä½

åœ¨åˆ›å»ºé¡µé¢æˆ–è¯¦æƒ…é¡µï¼Œæ£€æŸ¥ï¼š

1. **åœ°å›¾æ˜¯å¦åŠ è½½**
   - åº”è¯¥çœ‹åˆ°é«˜å¾·åœ°å›¾ç“¦ç‰‡
   - ä¸åº”è¯¥æ˜¯ç©ºç™½æˆ–ç°è‰²

2. **åœ°å›¾æ˜¯å¦å®šä½**
   - æ‰“å¼€æ§åˆ¶å°
   - æŸ¥æ‰¾ "âœ… åœ°å€è§£ææˆåŠŸ" æ—¥å¿—
   - æ£€æŸ¥ç»çº¬åº¦æ˜¯å¦æ­£ç¡®

3. **æ ‡è®°æ˜¯å¦æ˜¾ç¤º**
   - åœ°å›¾ä¸Šåº”è¯¥æœ‰çº¢è‰²æ ‡è®°ç‚¹
   - æ ‡è®°ç‚¹åº”è¯¥æœ‰ä¸‹è½åŠ¨ç”»
   - ç‚¹å‡»æ ‡è®°åº”è¯¥æ˜¾ç¤ºä¿¡æ¯çª—å£

### 5. éªŒè¯AIè®¡åˆ’æ˜¾ç¤º

åœ¨è¡Œç¨‹è¯¦æƒ…é¡µï¼š

1. **æ£€æŸ¥AIè®¡åˆ’å¡ç‰‡**
   - åº”è¯¥çœ‹åˆ° "âœ¨ AI ç”Ÿæˆçš„è¡Œç¨‹è®¡åˆ’" æ ‡é¢˜
   - åº”è¯¥æœ‰ç´«è‰²æ¸å˜èƒŒæ™¯

2. **æ£€æŸ¥è¡Œç¨‹å®‰æ’**
   - åº”è¯¥æ˜¾ç¤ºæ¯æ—¥è¡Œç¨‹
   - æ¯å¤©åº”è¯¥æœ‰å…·ä½“æ—¶é—´å’Œæ´»åŠ¨

3. **æ£€æŸ¥é¢„ç®—æ˜ç»†**
   - åº”è¯¥æ˜¾ç¤ºå„ç±»è´¹ç”¨
   - åº”è¯¥æœ‰å…·ä½“é‡‘é¢

4. **æ£€æŸ¥æ—…è¡Œå»ºè®®**
   - åº”è¯¥æ˜¾ç¤ºå¤šæ¡å»ºè®®
   - æ¯æ¡å»ºè®®å‰åº”è¯¥æœ‰ ğŸ’¡ å›¾æ ‡

## å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1: åœ°å›¾å§‹ç»ˆæ˜¾ç¤ºåŒ—äº¬

**å¯èƒ½åŸå› **ï¼š
- åœ°ç†ç¼–ç APIè°ƒç”¨å¤±è´¥
- ç›®çš„åœ°åç§°æ— æ³•è¯†åˆ«
- ç½‘ç»œé—®é¢˜

**è§£å†³æ–¹æ³•**ï¼š
```javascript
// åœ¨æ§åˆ¶å°æµ‹è¯•åœ°ç†ç¼–ç 
const geocoder = new AMap.Geocoder({ city: 'å…¨å›½' })
geocoder.getLocation('æˆéƒ½', (status, result) => {
  console.log('æµ‹è¯•ç»“æœ:', status, result)
})
```

å¦‚æœè¿”å› `complete`ï¼Œè¯´æ˜APIæ­£å¸¸ã€‚å¦‚æœè¿”å›é”™è¯¯ï¼Œæ£€æŸ¥ï¼š
1. é«˜å¾·åœ°å›¾Keyæ˜¯å¦æ­£ç¡®é…ç½®
2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
3. ç›®çš„åœ°åç§°æ˜¯å¦æ­£ç¡®

### é—®é¢˜2: AIè®¡åˆ’ä¸æ˜¾ç¤º

**å¯èƒ½åŸå› **ï¼š
- AIç”Ÿæˆå¤±è´¥
- æ•°æ®æœªæ­£ç¡®ä¿å­˜
- æ•°æ®ç»“æ„ä¸åŒ¹é…

**è§£å†³æ–¹æ³•**ï¼š

1. **æ£€æŸ¥AIç”Ÿæˆæ˜¯å¦æˆåŠŸ**
```javascript
// åœ¨åˆ›å»ºé¡µé¢æ§åˆ¶å°æŸ¥çœ‹
// åº”è¯¥çœ‹åˆ° "AI ç”ŸæˆæˆåŠŸ" çš„toastæç¤º
```

2. **æ£€æŸ¥æ•°æ®åº“ä¸­çš„æ•°æ®**
```javascript
// è·å–è¡Œç¨‹æ•°æ®å¹¶æ£€æŸ¥itineraryå­—æ®µ
fetch('http://localhost:3001/api/trips', {
  headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }
})
  .then(res => res.json())
  .then(trips => {
    console.log('æ‰€æœ‰è¡Œç¨‹:', trips)
    trips.forEach(trip => {
      console.log(`è¡Œç¨‹ ${trip.destination}:`, {
        hasItinerary: !!trip.itinerary,
        itinerary: trip.itinerary
      })
    })
  })
```

3. **æ£€æŸ¥æ•°æ®ç»“æ„**
ç¡®ä¿ itinerary å­—æ®µåŒ…å«ï¼š
```json
{
  "itinerary": [
    { "day": 1, "date": "2025-11-10", "activities": [...] }
  ],
  "budgetBreakdown": [
    { "category": "ä½å®¿", "amount": 2000, "description": "..." }
  ],
  "tips": ["æç¤º1", "æç¤º2"]
}
```

### é—®é¢˜3: è¯­éŸ³è¯†åˆ«ä¸å·¥ä½œ

**å¯èƒ½åŸå› **ï¼š
- æµè§ˆå™¨ä¸æ”¯æŒ
- æœªæˆäºˆéº¦å…‹é£æƒé™
- ç½‘ç»œé—®é¢˜

**è§£å†³æ–¹æ³•**ï¼š

1. **æ£€æŸ¥æµè§ˆå™¨æ”¯æŒ**
```javascript
const supported = !!(window.SpeechRecognition || window.webkitSpeechRecognition)
console.log('è¯­éŸ³è¯†åˆ«æ”¯æŒ:', supported)
```

2. **æ£€æŸ¥éº¦å…‹é£æƒé™**
   - Chrome: åœ°å€æ å·¦ä¾§çš„é”å½¢å›¾æ ‡
   - ç¡®ä¿"éº¦å…‹é£"æƒé™è®¾ç½®ä¸º"å…è®¸"

3. **ä½¿ç”¨æ¨èæµè§ˆå™¨**
   - Chrome (æ¨è)
   - Edge
   - ä¸æ”¯æŒï¼šFirefox, Safari

## å¿«é€Ÿæµ‹è¯•å‘½ä»¤

### æµ‹è¯•åç«¯API

```bash
# æµ‹è¯•AIç”Ÿæˆ
curl -X POST http://localhost:3001/api/ai/generate-plan \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "destination": "æˆéƒ½",
    "startDate": "2025-11-10",
    "endDate": "2025-11-14",
    "budget": 5000,
    "travelers": 2,
    "preferences": ["ç¾é£Ÿ", "å†å²æ–‡åŒ–"],
    "description": "æƒ³çœ‹ç†ŠçŒ«ï¼Œå“å°æ­£å®—å·èœ"
  }'

# æµ‹è¯•åˆ›å»ºè¡Œç¨‹
curl -X POST http://localhost:3001/api/trips \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "destination": "æˆéƒ½",
    "startDate": "2025-11-10",
    "endDate": "2025-11-14",
    "budget": 5000,
    "travelers": 2,
    "preferences": ["ç¾é£Ÿ"],
    "status": "planned",
    "aiPlan": {
      "itinerary": [],
      "budgetBreakdown": [],
      "tips": []
    }
  }'
```

### æŸ¥çœ‹åç«¯æ—¥å¿—

```bash
# åœ¨åç«¯ç›®å½•æŸ¥çœ‹å®æ—¶æ—¥å¿—
cd backend
npm run dev

# åº”è¯¥çœ‹åˆ°ï¼š
# âœ… Server is running on port 3001
# âœ… Database connected
```

### æŸ¥çœ‹å‰ç«¯æ—¥å¿—

```bash
# åœ¨å‰ç«¯ç›®å½•
cd frontend
npm run dev

# åº”è¯¥çœ‹åˆ°ï¼š
# âœ… Ready on http://localhost:5090
```

## å®Œæ•´æµ‹è¯•æ¸…å•

- [ ] åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ (ç«¯å£ 3001)
- [ ] å‰ç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ (ç«¯å£ 5090)
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] é«˜å¾·åœ°å›¾API Key é…ç½®æ­£ç¡®
- [ ] é˜¿é‡Œäº‘ç™¾ç‚¼ API Key é…ç½®æ­£ç¡®
- [ ] å¯ä»¥æ­£å¸¸æ³¨å†Œ/ç™»å½•
- [ ] å¯ä»¥åˆ›å»ºè¡Œç¨‹
- [ ] åœ°å›¾èƒ½æ­£ç¡®å®šä½
- [ ] AI èƒ½æˆåŠŸç”Ÿæˆ
- [ ] AI è®¡åˆ’èƒ½æ­£ç¡®æ˜¾ç¤º
- [ ] è¯­éŸ³è¯†åˆ«æ­£å¸¸å·¥ä½œ
- [ ] è´¹ç”¨è®°å½•åŠŸèƒ½æ­£å¸¸

## è·å–å¸®åŠ©

å¦‚æœé—®é¢˜ä»æœªè§£å†³ï¼Œè¯·æä¾›ï¼š

1. **æµè§ˆå™¨æ§åˆ¶å°æˆªå›¾**
   - åŒ…å«çº¢è‰²é”™è¯¯ä¿¡æ¯
   - åŒ…å«ç½‘ç»œè¯·æ±‚ä¿¡æ¯

2. **åç«¯ç»ˆç«¯æ—¥å¿—**
   - æœ€è¿‘çš„é”™è¯¯ä¿¡æ¯
   - API è°ƒç”¨æ—¥å¿—

3. **é—®é¢˜æè¿°**
   - å…·ä½“å“ªä¸ªåŠŸèƒ½ä¸å·¥ä½œ
   - å¤ç°æ­¥éª¤
   - é¢„æœŸè¡Œä¸º vs å®é™…è¡Œä¸º

4. **ç¯å¢ƒä¿¡æ¯**
   - æ“ä½œç³»ç»Ÿ
   - æµè§ˆå™¨ç‰ˆæœ¬
   - Node.js ç‰ˆæœ¬
